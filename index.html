<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Freeman - Cat√°logo</title>
<style>
  * { box-sizing: border-box; margin: 0; padding: 0; }

  body {
    font-family: 'Poppins', sans-serif;
    background-color: #fff;
    color: #111;
    display: flex;
    flex-direction: column;
    align-items: center;
    min-height: 100vh;
    overflow-x: hidden;
    padding-bottom: 120px;
  }

  header {
    width: 100%;
    text-align: center;
    padding: 25px;
    font-size: 28px;
    font-weight: 700;
    border-bottom: 1px solid #ccc;
    background: #ffffff00;
    position: static;
    top: 0;
    z-index: 999;
  }

  main {
    width: 100%;
    max-width: 1200px;
    padding: 20px;
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  h2 {
    text-align: center;
    margin: 25px 0;
    font-size: 22px;
  }

.productos {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 20px;
    justify-items: center;
    width: 100%;
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 10px;
    box-sizing: border-box;
}

  .producto {
    border: 1px solid #ccc;
    border-radius: 10px;
    padding: 15px;
    width: 100%;
    max-width: 220px;
    text-align: center;
    transition: transform 0.2s ease;
    background: #fff;
  }

  .producto:hover { transform: scale(1.02); }

  .producto img {
    width: 100%;
    height: 220px;
    object-fit: cover;
    border-radius: 8px;
  }

  .producto h3 { margin: 10px 0 5px; font-size: 18px; }

  .producto p { font-weight: 600; margin-bottom: 10px; }

  .talle {
    display: flex;
    justify-content: center;
    gap: 6px;
    margin-bottom: 10px;
  }

  .talle button {
    padding: 5px 8px;
    border: 1px solid #888;
    background: #fff;
    cursor: pointer;
    border-radius: 5px;
    font-size: 13px;
    transition: 0.2s;
  }

  .talle button.selected {
    background: #000;
    color: #fff;
  }

  .btn-agregar {
    width: 100%;
    padding: 10px;
    background: #000;
    color: #fff;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-weight: 600;
  }

  .btn-agregar:hover { opacity: 0.85; }

  /* Mini carrito */
  #mini-carrito {
    position: fixed;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    background-color: #000;
    color: #fff;
    padding: 10px 22px;
    border-radius: 25px;
    cursor: pointer;
    z-index: 9999;
    font-size: 14px;
    box-shadow: 0 0 10px rgba(0,0,0,0.3);
    transition: transform 0.3s ease;
  }

  #mini-carrito:hover {
    transform: translateX(-50%) scale(1.05);
  }

  /* Carrito lateral */
  .carrito-panel {
    position: fixed;
    top: 0;
    right: -100%;
    width: 350px;
    height: 100%;
    background: #fff;
    box-shadow: -2px 0 10px rgba(0,0,0,0.2);
    z-index: 99999;
    display: flex;
    flex-direction: column;
    transition: right 0.4s ease;
    padding: 20px;
    overflow-y: auto;
  }

  .carrito-panel.abierto { right: 0; }

  .overlay {
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: rgba(0,0,0,0.4);
    display: none;
    z-index: 99998;
  }
  .overlay.visible { display: block; }

  .carrito-header { display: flex; justify-content: space-between; align-items: center; }
  .cerrar-carrito {
    background: none; border: none; font-size: 24px; cursor: pointer;
  }

  .carrito-items { flex: 1; margin-top: 15px; }
  .carrito-item {
    display: flex; justify-content: space-between; align-items: center;
    border-bottom: 1px solid #eee; padding: 10px 0;
  }

  .carrito-item button {
    background: none; border: none; font-size: 18px; cursor: pointer;
  }

  .carrito-envio { margin: 15px 0; font-size: 14px; }
  .carrito-total {
    display: flex; justify-content: space-between;
    font-size: 18px; font-weight: bold; margin-bottom: 10px;
  }

  .btn-encargar {
    background: #25d366; color: white; border: none; padding: 12px;
    border-radius: 8px; font-size: 16px; cursor: pointer;
  }
  .btn-encargar:hover { background: #1ebe5d; }

  /* Burbuja ‚ÄúCalcular Talle‚Äù */
  #burbujaTalle {
    position: fixed;
    bottom: 20px;
    left: 20px;
    background: #000;
    color: #fff;
    border-radius: 40px;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 0 14px;
    height: 50px;
    font-size: 13px;
    cursor: pointer;
    box-shadow: 0 0 10px rgba(0,0,0,0.3);
    z-index: 9999;
    animation: pop 1.2s infinite alternate ease-in-out;
  }

  @keyframes pop { from { transform: scale(1); } to { transform: scale(1.05); } }

  /* Logros */
  #cuadroLogros {
    display: flex;
    justify-content: center;
    gap: 25px;
    background: #f6f6f6;
    border-radius: 12px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.08);
    padding: 25px;
    margin: 50px 0 20px;
    text-align: center;
    width: 90%;
    max-width: 700px;
  }

  #cuadroLogros div p:first-child { font-size: 22px; font-weight: 700; }
  #cuadroLogros div p:last-child { color: #555; font-size: 14px; }

  /* Historia */
  #cuadroHistoria {
    background: #f6f6f6;
    border-radius: 12px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.08);
    padding: 30px;
    margin: 30px auto 80px;
    text-align: center;
    width: 90%;
    max-width: 700px;
    line-height: 1.7;
  }
  #cuadroHistoria h3 { font-size: 20px; margin-bottom: 10px; font-weight: 700; }

  /* Notificaciones */
  #notificaciones {
    position: fixed;
    top: 20px;
    right: 20px;
    z-index: 99999;
  }

  .notificacion {
    background: rgba(0, 0, 0, 0.8);
    color: #fff;
    padding: 10px 15px;
    margin-bottom: 10px;
    border-radius: 8px;
    font-size: 14px;
    opacity: 0;
    animation: aparecer 0.6s forwards;
  }

  @keyframes aparecer {
    from { opacity: 0; transform: translateY(-10px); }
    to { opacity: 1; transform: translateY(0); }
  }

  @media (max-width: 768px) {
    #cuadroLogros { flex-direction: column; }
    .productos { grid-template-columns: repeat(2, 1fr); }
    #mini-carrito { font-size: 12px; padding: 8px 18px; }
    #burbujaTalle { height: 45px; font-size: 12px; padding: 0 12px; }
    .carrito-panel { width: 100%; }
  }
</style>
</head>
<body>

<header>Catalogo Freeman </header>

<main>
  <h2>Remeras Lisas</h2>
  <div class="productos" id="productos"></div>

  <div id="cuadroLogros">
    <div><p>+150</p><p>env√≠os completados</p></div>
    <div><p>+1000</p><p>clientes satisfechos</p></div>
    <div><p>4.8 ‚≠ê</p><p>Facebook Marketplace</p></div>
  </div>

  <div id="cuadroHistoria">
    <h3>Nuestra Historia</h3>
    <p>
      Comenzamos con una sola remera y una idea clara: ofrecer productos de excelente calidad a un precio justo.  
      Desde ese primer modelo, fabricamos cada remera con cuidado y dedicaci√≥n, buscando que cada prenda transmita la esencia de lo simple, c√≥modo y duradero.  
      Hoy seguimos creciendo, pero nuestro enfoque sigue siendo el mismo: remeras lisas que hablan por s√≠ solas.
    </p>
  </div>
</main>

<!-- Mini carrito -->
<div id="mini-carrito">0 productos - $0</div>

<!-- Panel de carrito lateral -->
<div id="carritoPanel" class="carrito-panel">
  <div class="carrito-header">
    <h2>Tu carrito</h2>
    <button id="cerrarCarrito" class="cerrar-carrito">&times;</button>
  </div>
  <div id="carritoItems" class="carrito-items"></div>
  <div class="carrito-envio">
    <h3>Tipo de entrega</h3>
    <label><input type="radio" name="envio" value="retiro" checked> Retiro en San Alberto 1336, San Vicente</label><br>
    <label><input type="radio" name="envio" value="domicilio"> Entrega a domicilio ($1000 a $3000)</label>
  </div>
  <div class="carrito-total">
    <span>Total:</span><strong id="totalCarrito">$0</strong>
  </div>
  <button id="btnEncargar" class="btn-encargar">Encargar por WhatsApp</button>
</div>
<div id="overlay" class="overlay"></div>

<!-- Burbuja ‚ÄúCalcular talle‚Äù -->
<div id="burbujaTalle">üìè Calcular Talle</div>

<!-- Notificaciones -->
<div id="notificaciones"></div>

<script>
  const productos = [
    { nombre: "Remera Blanca", color: "Blanco", precio: 15000, img: "img/remerablanca.png" },
    { nombre: "Remera Negra", color: "Negro", precio: 15000, img: "img/remeranegra.png" },
    { nombre: "Remera Beige", color: "Beige", precio: 15000, img: "img/remerabeige.png" },
    { nombre: "Remera Roja", color: "Rojo", precio: 15000, img: "img/remeraroja.png" },
    { nombre: "Remera Gris", color: "Gris", precio: 15000, img: "img/remeragris.png" },
  ];

  const productosContainer = document.getElementById('productos');
  const miniCarrito = document.getElementById('mini-carrito');
  const carritoPanel = document.getElementById('carritoPanel');
  const cerrarCarrito = document.getElementById('cerrarCarrito');
  const overlay = document.getElementById('overlay');
  const carritoItems = document.getElementById('carritoItems');
  const totalCarrito = document.getElementById('totalCarrito');
  const btnEncargar = document.getElementById('btnEncargar');
  const notificaciones = document.getElementById('notificaciones');

  let carrito = [];

  productos.forEach(prod => {
    const div = document.createElement('div');
    div.classList.add('producto');
    div.innerHTML = `
      <img src="${prod.img}" alt="${prod.nombre}">
      <h3>${prod.nombre}</h3>
      <p>$${prod.precio}</p>
      <div class="talle">
        <button>S</button><button>M</button><button>L</button><button>XL</button><button>XXL</button>
      </div>
      <button class="btn-agregar">Agregar al carrito</button>
    `;
    productosContainer.appendChild(div);

    const botonesTalle = div.querySelectorAll('.talle button');
    let talleSeleccionado = null;
    botonesTalle.forEach(btn => {
      btn.addEventListener('click', () => {
        botonesTalle.forEach(b => b.classList.remove('selected'));
        btn.classList.add('selected');
        talleSeleccionado = btn.textContent;
      });
    });

    div.querySelector('.btn-agregar').addEventListener('click', () => {
      if (!talleSeleccionado) {
        alert('Seleccion√° un talle antes de agregar al carrito');
        return;
      }
      const item = carrito.find(p => p.nombre === prod.nombre && p.talle === talleSeleccionado);
      if (item) item.cantidad++;
      else carrito.push({ ...prod, talle: talleSeleccionado, cantidad: 1 });
      actualizarMiniCarrito();
    });
  });

  function actualizarMiniCarrito() {
    const total = carrito.reduce((acc, p) => acc + p.precio * p.cantidad, 0);
    miniCarrito.textContent = `${carrito.length} productos - $${total}`;
  }

  // üõí Mini carrito abre panel
  miniCarrito.addEventListener('click', () => {
    actualizarCarrito();
    carritoPanel.classList.add('abierto');
    overlay.classList.add('visible');
  });

  cerrarCarrito.addEventListener('click', () => {
    carritoPanel.classList.remove('abierto');
    overlay.classList.remove('visible');
  });
  overlay.addEventListener('click', () => {
    carritoPanel.classList.remove('abierto');
    overlay.classList.remove('visible');
  });

  function actualizarCarrito() {
    carritoItems.innerHTML = '';
    carrito.forEach((item, i) => {
      const div = document.createElement('div');
      div.classList.add('carrito-item');
      div.innerHTML = `
        <span>${item.nombre} (${item.talle})</span>
        <div>
          <button onclick="cambiarCantidad(${i}, -1)">‚àí</button>
          <span>${item.cantidad}</span>
          <button onclick="cambiarCantidad(${i}, 1)">+</button>
          <button onclick="eliminarItem(${i})">üóëÔ∏è</button>
        </div>`;
      carritoItems.appendChild(div);
    });
    const total = carrito.reduce((a, i) => a + i.precio * i.cantidad, 0);
    totalCarrito.textContent = `$${total.toLocaleString('es-AR')}`;
  }

  function cambiarCantidad(i, d) {
    carrito[i].cantidad += d;
    if (carrito[i].cantidad <= 0) carrito.splice(i, 1);
    actualizarCarrito();
    actualizarMiniCarrito();
  }
  function eliminarItem(i) {
    carrito.splice(i, 1);
    actualizarCarrito();
    actualizarMiniCarrito();
  }

  btnEncargar.addEventListener('click', () => {
    if (carrito.length === 0) return alert("Tu carrito est√° vac√≠o.");
    const tipo = document.querySelector('input[name="envio"]:checked').value;
    const resumen = carrito.map(p => `${p.nombre} (${p.talle}) x${p.cantidad}`).join(', ');
    const total = carrito.reduce((a, i) => a + i.precio * i.cantidad, 0);
    const msg = encodeURIComponent(`Hola! Quiero encargar:\n${resumen}\n\nTotal: $${total.toLocaleString('es-AR')}\nTipo de entrega: ${tipo === 'retiro' ? 'Retiro en local (San Alberto 1336, San Vicente)' : 'Entrega a domicilio'}`);
    window.open(`https://wa.me/5493518583166?text=${msg}`, '_blank');
  });

  // Notificaciones
  const nombres = ["Luc√≠a", "Mart√≠n", "Valentina", "Tom√°s", "Agustina", "Juli√°n", "Sof√≠a", "Nicol√°s", "Camila", "Benjam√≠n", "Milagros", "Lautaro", "Juana", "Mateo", "Lara", "Franco", "Roc√≠o", "Facundo", "Ail√©n", "Gonzalo", "Micaela", "Thiago", "Florencia", "Ramiro", "Brenda", "Santiago", "Melina", "Leandro", "Daniela", "Lucas", "Ariana", "Ezequiel", "Pilar", "Mariano", "Noelia", "Juan", "Malena", "Luciano", "Carolina", "Diego"];

  function mostrarNotificacion() {
    const nombre = nombres[Math.floor(Math.random() * nombres.length)];
    const talle = ["S","M","L","XL","XXL"][Math.floor(Math.random() * 5)];
    const color = productos[Math.floor(Math.random() * productos.length)].color;

    const div = document.createElement('div');
    div.classList.add('notificacion');
    div.textContent = `${nombre} ha encargado 1 remera ${color} talle ${talle}`;
    notificaciones.appendChild(div);
    setTimeout(() => div.remove(), 5000);
  }

  setInterval(mostrarNotificacion, 12000);
</script>

</body>
</html>
