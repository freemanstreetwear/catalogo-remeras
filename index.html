<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Freeman - Tienda Oficial</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
<style>
  body {
    font-family: 'Poppins', sans-serif;
    margin: 0;
    background-color: #fff;
    color: #111;
  }

  /* ðŸ”¹ Logo */
  header {
    position: fixed;
    top: 10px;
    left: 15px;
    z-index: 99999;
  }

  header img {
    height: 40px;
  }

  /* ðŸ”¹ Widget de encargos */
  #encargosContainer {
    position: fixed;
    top: 20px;
    right: 20px;
    background: rgba(0, 0, 0, 0.6);
    color: #fff;
    padding: 10px 16px;
    border-radius: 10px;
    font-size: 14px;
    opacity: 0;
    transform: translateX(100%);
    transition: all 0.6s ease;
    z-index: 9999;
  }

  /* ðŸ”¹ Burbuja flotante */
  #burbujaTalle {
    position: fixed;
    bottom: 20px;
    left: 20px;
    width: 110px;
    height: 45px;
    background: #000;
    color: #fff;
    border-radius: 25px;
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    box-shadow: 0 0 10px rgba(0,0,0,0.3);
    z-index: 9999;
    font-size: 14px;
    font-weight: 500;
    transition: transform 0.2s ease, box-shadow 0.3s ease;
  }

  #burbujaTalle:hover {
    transform: scale(1.08);
    box-shadow: 0 0 15px rgba(0,0,0,0.4);
  }

  /* ðŸ”¹ Panel del widget */
  #widgetTalleSeccion {
    position: fixed;
    left: 140px;
    bottom: 20px;
    background: #f5f5f5;
    color: #111;
    padding: 18px;
    border-radius: 12px;
    box-shadow: 0 5px 20px rgba(0,0,0,0.3);
    max-width: 340px;
    opacity: 0;
    transform: translateY(20px);
    transition: all 0.4s ease;
    z-index: 9998;
    display: none;
  }

  /* ðŸ”¹ Responsivo */
  @media (max-width: 420px) {
    body {
      max-width: 380px;
      margin: 0 auto;
      overflow-x: hidden;
    }

    #widgetTalleSeccion {
      left: 15px;
      right: 15px;
      max-width: 350px;
    }
  }
</style>
</head>
<body>

<!-- ðŸ”¹ LOGO FREEMAN -->
<header>
  <img src="https://freeman.com/logo.png" alt="Freeman">
</header>

<!-- ðŸ”¹ MENSAJES DE ENCARGOS -->
<div id="encargosContainer"></div>

<!-- ðŸ”¹ BURBUJA FLOTANTE -->
<div id="burbujaTalle">Calcular Talle</div>

<!-- ðŸ”¹ PANEL DEL WIDGET -->
<section id="widgetTalleSeccion">
  <div id="widgetTalle">
    <div style="display:flex; justify-content:space-between; align-items:center;">
      <h4 style="margin:0; font-weight:600;">Calculadora de talle</h4>
      <button id="cerrarTalle" style="background:none; border:none; font-size:18px; cursor:pointer; color:#333;">âœ•</button>
    </div>
    <hr style="border:none; border-top:1px solid #ccc; margin:10px 0;">

    <label style="display:block; margin:6px 0 3px;">Altura (cm)</label>
    <input type="range" id="wAltura" min="140" max="210" value="175" style="width:100%; accent-color:#111;">
    <span id="wAlturaVal" style="display:block; margin-bottom:5px;">175 cm</span>

    <label style="display:block; margin:6px 0 3px;">Peso (kg)</label>
    <input type="range" id="wPeso" min="40" max="120" value="70" style="width:100%; accent-color:#111;">
    <span id="wPesoVal" style="display:block; margin-bottom:5px;">70 kg</span>

    <label style="display:block; margin:6px 0 3px;">Contextura</label>
    <div style="display:flex; justify-content:center; gap:8px; margin-bottom:8px;">
      <button class="wContextBtn" data-contextura="pequeÃ±a" style="padding:6px 10px; border:none; border-radius:6px; background:#fff; color:#111; cursor:pointer;">PequeÃ±a</button>
      <button class="wContextBtn" data-contextura="media" style="padding:6px 10px; border:none; border-radius:6px; background:#fff; color:#111; cursor:pointer;">Media</button>
      <button class="wContextBtn" data-contextura="grande" style="padding:6px 10px; border:none; border-radius:6px; background:#fff; color:#111; cursor:pointer;">Grande</button>
    </div>

    <button id="wCalcular" style="padding:10px 20px; border:none; border-radius:8px; background:#a8d5a2; color:#111; font-weight:600; cursor:pointer; width:100%;">Calcular</button>

    <!-- Resultado -->
    <div id="wResultadoContainer" style="margin-top:12px; display:none; flex-direction:column; align-items:center;">
      <p id="wResultado" style="margin:0; font-weight:600; font-size:18px; color:#111;"></p>
    </div>
  </div>
</section>

<!-- ðŸ”¹ SCRIPT -->
<script>
document.addEventListener("DOMContentLoaded", function(){
  const burbuja = document.getElementById("burbujaTalle");
  const widgetSeccion = document.getElementById("widgetTalleSeccion");
  const cerrar = document.getElementById("cerrarTalle");
  let visible = false;

  // Mostrar / Ocultar widget
  burbuja.addEventListener("click", ()=>{
    visible = !visible;
    if(visible){
      widgetSeccion.style.display = "block";
      setTimeout(()=>{
        widgetSeccion.style.opacity="1";
        widgetSeccion.style.transform="translateY(0)";
      }, 50);
    } else {
      widgetSeccion.style.opacity="0";
      widgetSeccion.style.transform="translateY(20px)";
      setTimeout(()=>{ widgetSeccion.style.display="none"; }, 400);
    }
  });

  cerrar.addEventListener("click", ()=>{
    visible=false;
    widgetSeccion.style.opacity="0";
    widgetSeccion.style.transform="translateY(20px)";
    setTimeout(()=>{ widgetSeccion.style.display="none"; }, 400);
  });

  // Variables calculadora
  const alturaInput=document.getElementById("wAltura");
  const pesoInput=document.getElementById("wPeso");
  const alturaVal=document.getElementById("wAlturaVal");
  const pesoVal=document.getElementById("wPesoVal");
  const resultado=document.getElementById("wResultado");
  const resultadoContainer=document.getElementById("wResultadoContainer");
  let contextura="";

  alturaInput.oninput=()=>alturaVal.innerText=alturaInput.value+" cm";
  pesoInput.oninput=()=>pesoVal.innerText=pesoInput.value+" kg";

  const botones=document.getElementsByClassName("wContextBtn");
  for(let i=0;i<botones.length;i++){
    botones[i].onclick=function(){
      for(let j=0;j<botones.length;j++){
        botones[j].style.background="#fff";
        botones[j].style.color="#111";
      }
      this.style.background="#a8d5a2";
      this.style.color="#111";
      contextura=this.getAttribute("data-contextura");
    };
  }

  document.getElementById("wCalcular").onclick=function(){
    const peso=parseFloat(pesoInput.value);
    if(!contextura){
      resultado.style.color="#f33";
      resultado.innerText="Por favor seleccionÃ¡ tu contextura.";
      resultadoContainer.style.display="flex";
      return;
    }

    let talle="", consejo="";
    if(contextura==="pequeÃ±a"){
      if(peso<60) talle="S";
      else if(peso<70){ talle="S-M"; consejo="PodÃ©s elegir S o M segÃºn prefieras mÃ¡s holgado."; }
      else if(peso<80) talle="M";
      else talle="L";
    } else if(contextura==="media"){
      if(peso<65) talle="M";
      else if(peso<75){ talle="M-L"; consejo="PodÃ©s elegir M o L segÃºn prefieras mÃ¡s holgado."; }
      else if(peso<90) talle="L";
      else talle="XL";
    } else if(contextura==="grande"){
      if(peso<75) talle="L";
      else if(peso<90){ talle="L-XL"; consejo="PodÃ©s elegir L o XL segÃºn prefieras mÃ¡s holgado."; }
      else talle="XL";
    }

    resultado.style.color="#111";
    resultado.innerHTML="Tu talle aproximado: <strong>"+talle+"</strong> (oversize)"+(consejo? "<br>"+consejo : "");
    resultadoContainer.style.display="flex";
  };

  /* ðŸ”¹ Encargos aleatorios */
  const nombres = [
    "AgustÃ­n", "Camila", "Luciano", "MarÃ­a", "TomÃ¡s", "Martina", "Santiago", "Julieta", "Federico", "SofÃ­a",
    "Juan", "Valentina", "NicolÃ¡s", "Lara", "Ezequiel", "RocÃ­o", "Leandro", "Micaela", "Mateo", "Milagros",
    "Facundo", "Antonella", "JoaquÃ­n", "Luz", "Franco", "Carolina", "Alan", "AilÃ©n", "Gonzalo", "Sol",
    "Ignacio", "Florencia", "Ramiro", "Victoria", "Lucas", "Agustina", "Bautista", "Candela", "Bruno", "Paula"
  ];
  const talles = ["S","M","L","XL"];
  const colores = ["Negra","Blanca","Beige","Gris","BordÃ³","Azul"];
  const contenedor = document.getElementById("encargosContainer");

  function mostrarEncargo(){
    const nombre = nombres[Math.floor(Math.random()*nombres.length)];
    const talle = talles[Math.floor(Math.random()*talles.length)];
    const color = colores[Math.floor(Math.random()*colores.length)];
    contenedor.innerHTML = `${nombre} ha encargado 1 remera ${color}, talle ${talle}`;
    contenedor.style.opacity = "1";
    contenedor.style.transform = "translateX(0)";
    setTimeout(()=>{
      contenedor.style.opacity = "0";
      contenedor.style.transform = "translateX(100%)";
    }, 5000);
  }

  setTimeout(mostrarEncargo, 5000); // primer mensaje a los 5s
  setInterval(mostrarEncargo, 10000); // luego cada 10s
});
</script>

</body>
</html>
